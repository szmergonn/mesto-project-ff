(()=>{var e={866:(e,t,n)=>{"use strict";n.d(t,{$W:()=>r,G$:()=>i,SS:()=>s,_o:()=>u,gL:()=>c,on:()=>a,sT:()=>o,xG:()=>l});var r={baseUrl:"https://nomoreparties.co/v1/wff-cohort-24",headers:{authorization:"8faae9a4-4492-4049-9feb-e3b6c0b32404","Content-Type":"application/json"}},o=function(e){return e.ok?e.json():Promise.reject("Ошибка: ".concat(e.status))},c=function(){return fetch("".concat(r.baseUrl,"/users/me"),{headers:r.headers}).then((function(e){return o(e)}))},a=function(){return fetch("".concat(r.baseUrl,"/cards"),{headers:r.headers}).then((function(e){return o(e)}))},i=function(e,t){return fetch("".concat(r.baseUrl,"/users/me"),{method:"PATCH",headers:r.headers,body:JSON.stringify({name:e,about:t})}).then((function(e){return o(e)}))},u=function(e,t){return fetch("".concat(r.baseUrl,"/cards"),{headers:r.headers,method:"POST",body:JSON.stringify({name:e,link:t})}).then((function(e){return o(e)}))},s=function(e){return fetch("".concat(r.baseUrl,"/cards/").concat(e),{headers:r.headers,method:"DELETE"}).then((function(e){return o(e)}))},l=function(e){return fetch("".concat(r.baseUrl,"/users/me/avatar"),{headers:r.headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((function(e){return o(e)}))}},694:(e,t,n)=>{"use strict";n.d(t,{GB:()=>i,GO:()=>a,zY:()=>c});var r=n(866),o=document.querySelector("#card-template").content;function c(e,t,n,r,c){var a=o.querySelector(".card").cloneNode(!0),i=a.querySelector(".card__image"),u=a.querySelector(".card__title"),s=a.querySelector(".card__like-counter");i.src=e.link,i.alt=e.name,u.textContent=e.name,s.textContent=e.likes.length;var l=a.querySelector(".card__delete-button");e.owner._id!==c?l.style.display="none":l.addEventListener("click",(function(){t(a,e._id)}));var d=a.querySelector(".card__like-button");return e.likes.some((function(e){return e._id===c}))&&d.classList.add("card__like-button_is-active"),d.addEventListener("click",(function(){n(d,s,e)})),i.addEventListener("click",(function(){r(e.link,e.name)})),a}function a(e,t){(0,r.SS)(t).then((function(){e.remove()})).catch((function(e){console.log("Error in deleting card: ".concat(e))}))}function i(e,t,n){e.classList.contains("card__like-button_is-active")?fetch("".concat(r.$W.baseUrl,"/cards/likes/").concat(n._id),{method:"DELETE",headers:r.$W.headers}).then((function(e){return(0,r.sT)(e)})).then((function(n){t.textContent=n.likes.length,e.classList.remove("card__like-button_is-active")})).catch((function(e){console.error("Error in deleting like from card: ".concat(e))})):fetch("".concat(r.$W.baseUrl,"/cards/likes/").concat(n._id),{method:"PUT",headers:r.$W.headers}).then((function(e){return(0,r.sT)(e)})).then((function(n){t.textContent=n.likes.length,e.classList.add("card__like-button_is-active")})).catch((function(e){console.error("Error adding like on card: ".concat(e))}))}},365:()=>{},563:(e,t,n)=>{"use strict";n.d(t,{$J:()=>d,AZ:()=>r,H9:()=>_,HF:()=>i,Ho:()=>k,IT:()=>a,IZ:()=>A,K3:()=>h,Qn:()=>v,Xo:()=>R,Xv:()=>C,Z4:()=>c,ZC:()=>b,ZH:()=>q,aN:()=>m,ar:()=>l,bd:()=>O,dW:()=>f,dg:()=>E,fy:()=>G,gS:()=>T,i0:()=>S,mo:()=>g,my:()=>x,qG:()=>y,qL:()=>u,rB:()=>L,sk:()=>s,t2:()=>w,tX:()=>o,ut:()=>U,y6:()=>p});var r=document.querySelector(".places__list"),o=document.querySelector(".popup_type_new-card"),c=document.querySelector(".popup_type_edit"),a=document.querySelector(".popup_type_new-avatar"),i=document.querySelector(".profile__add-button"),u=document.querySelector(".profile__edit-button"),s=document.querySelectorAll(".popup"),l=document.querySelector(".popup_type_image .popup__image"),d=document.querySelector(".popup_type_image .popup__caption"),p=document.querySelector(".popup_type_image"),f=document.querySelector('.popup__form[name="new-place"]'),m=document.querySelector('.popup__form[name="edit-avatar"]'),_=f.querySelector(".popup__input_type_card-name"),y=f.querySelector(".popup__input_type_url"),v=(document.querySelector(".popup__form"),document.querySelector(".profile__title")),b=document.querySelector('.popup__form[name="edit-profile"]'),h=document.querySelector(".popup__input_type_name"),S=document.querySelector(".popup__input_type_description"),g=document.querySelector(".profile__description"),q=document.querySelector(".profile__image"),L=document.querySelector(".profile__image-overlay"),C=new URL(n(384),n.b),x=new URL(n(117),n.b),E=new URL(n(400),n.b),k=new URL(n(359),n.b),w=new URL(n(362),n.b),U=new URL(n(871),n.b),G=new URL(n(302),n.b),A=new URL(n(629),n.b),O=new URL(n(999),n.b),T=new URL(n(38),n.b),R=new URL(n(576),n.b)},850:(e,t,n)=>{"use strict";var r=n(866),o=n(694),c=n(563),a=n(947),i=n(547);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){c.ar.src=e,c.ar.alt=t,c.$J.textContent=t,(0,a.q)(c.y6)}c.Xv,c.my,c.dg,c.Ho,c.t2,c.ut,c.fy,c.IZ,c.bd,c.gS,c.Xo,Promise.all([(0,r.gL)(),(0,r.on)()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c,a,i=[],u=!0,s=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);u=!0);}catch(e){s=!0,o=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];c.Qn.textContent=a.name,c.mo.textContent=a.about,c.ZH.style.backgroundImage="url(".concat(a.avatar,")");var l=a._id;i.forEach((function(e){c.AZ.append((0,o.zY)(e,o.GO,o.GB,s,l))}))})).catch((function(e){console.log("Error in userData or cardsData: ".concat(e))})),c.rB.addEventListener("click",(function(){(0,i.RC)(c.aN,i.Gs),c.aN.reset(),(0,a.q)(c.IT)})),c.HF.addEventListener("click",(function(){(0,i.RC)(c.dW,i.Gs),(0,a.q)(c.tX)})),c.qL.addEventListener("click",(function(){(0,i.RC)(c.ZC,i.Gs),(0,a.q)(c.Z4),c.K3.value=c.Qn.textContent,c.i0.value=c.mo.textContent})),c.sk.forEach((function(e){e.addEventListener("click",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close"))&&(0,a.O)(e)}))})),c.ZC.addEventListener("submit",(function(e){e.preventDefault();var t=c.K3.value,n=c.i0.value,o=c.ZC.querySelector(i.Gs.submitButtonSelector);o.textContent="Сохранение...",(0,r.G$)(t,n).then((function(e){c.Qn.textContent=e.name,c.mo.textContent=e.about,(0,a.O)(c.Z4)})).catch((function(e){console.log("Error in updating profile ".concat(e))})).finally((function(){o.textContent="Сохранить"}))})),c.dW.addEventListener("submit",(function(e){e.preventDefault();var t={name:c.H9.value,link:c.qG.value},n=c.dW.querySelector(i.Gs.submitButtonSelector);n.textContent="Создание...",(0,r._o)(t.name,t.link).then((function(e){var t=e.owner._id;c.AZ.prepend((0,o.zY)(e,o.GO,o.GB,s,t)),c.dW.reset(),(0,a.O)(c.tX)})).catch((function(e){console.log("Error in adding a new card: ".concat(e))})).finally((function(){n.textContent="Создать"}))})),c.aN.addEventListener("submit",(function(e){e.preventDefault();var t=c.aN.querySelector(".popup__input_type_url").value,n=c.aN.querySelector(i.Gs.submitButtonSelector);n.textContent="Сохранение...",(0,r.xG)(t).then((function(e){c.ZH.style.backgroundImage="url(".concat(e.avatar,")"),c.aN.reset(),(0,a.O)(c.IT)})).catch((function(e){console.log("Error in updating avatar: ".concat(e))})).finally((function(){n.textContent="Сохранить"}))})),(0,i.F8)(i.Gs)},947:(e,t,n)=>{"use strict";n.d(t,{O:()=>c,q:()=>o});var r=n(563);function o(e){document.addEventListener("keydown",a),e.classList.add("popup_is-animated"),setTimeout((function(){e.classList.add("popup_is-opened")}),1)}function c(e){document.removeEventListener("keydown",a),e.classList.remove("popup_is-opened"),e===r.tX&&r.dW.reset(),setTimeout((function(){e.classList.remove("popup_is-animated")}),600)}function a(e){if("Escape"===e.key){var t=document.querySelector(".popup.popup_is-opened");t&&c(t)}}},547:(e,t,n)=>{"use strict";n.d(t,{F8:()=>o,Gs:()=>r,RC:()=>c});var r={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"},o=function(e){document.querySelectorAll(e.formSelector).forEach((function(t){!function(e,t){var n=Array.from(e.querySelectorAll(t.inputSelector)),r=e.querySelector(t.submitButtonSelector);n.forEach((function(n){n.addEventListener("input",(function(){!function(e,t,n){t.validity.patternMismatch?t.setCustomValidity(t.dataset.errorMessage):t.setCustomValidity(""),t.validity.valid?function(e,t){var n=e.querySelector(".".concat(t.id,"-error"));n.textContent="",t.classList.remove("popup__input_type_error"),n.classList.remove("popup__input-error_visible")}(e,t):function(e,t,n,r){var o=e.querySelector(".".concat(t.id,"-error"));o.textContent=n,t.classList.add(r.inputErrorClass),o.classList.add(r.errorClass)}(e,t,t.validationMessage,n)}(e,n,t),a(e,r,t)}))}))}(t,e)}))},c=function(e,t){Array.from(e.querySelectorAll("".concat(t.inputSelector))).forEach((function(n){var r=e.querySelector(t.submitButtonSelector);n.classList.remove("".concat(t.inputErrorClass));var o=e.querySelector(".".concat(n.id,"-error"));o.textContent="",o.classList.remove("".concat(t.errorClass)),r.classList.add(t.inactiveButtonClass),r.disabled=!0}))},a=function(e,t,n){Array.from(e.querySelectorAll(n.inputSelector)).some((function(e){return!e.validity.valid}))?(t.classList.add(n.inactiveButtonClass),t.disabled=!0):(t.classList.remove(n.inactiveButtonClass),t.disabled=!1)}},384:(e,t,n)=>{"use strict";e.exports=n.p+"bed8c136e13907f5eefb.svg"},117:(e,t,n)=>{"use strict";e.exports=n.p+"6666407ac3aa5af1d5de.jpg"},400:(e,t,n)=>{"use strict";e.exports=n.p+"84a69e2a88582107beb5.jpg"},359:(e,t,n)=>{"use strict";e.exports=n.p+"81f9808b88871ce01200.jpg"},362:(e,t,n)=>{"use strict";e.exports=n.p+"d54fc136d7e0d52199e6.jpg"},871:(e,t,n)=>{"use strict";e.exports=n.p+"8a65f75d3d836c291cc9.svg"},302:(e,t,n)=>{"use strict";e.exports=n.p+"2af49b82d305a6ea3442.svg"},629:(e,t,n)=>{"use strict";e.exports=n.p+"6c7bf05444b9793fdf6e.svg"},999:(e,t,n)=>{"use strict";e.exports=n.p+"a7ffe37dcb927ba0c46c.svg"},38:(e,t,n)=>{"use strict";e.exports=n.p+"df0c965524717a3fd8e9.svg"},576:(e,t,n)=>{"use strict";e.exports=n.p+"0863e5bc26221680f1e2.svg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var c=t[r]={exports:{}};return e[r](c,c.exports,n),c.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",n.b=document.baseURI||self.location.href,n(850),n(365),n(947),n(694),n(563),n(547),n(866)})();